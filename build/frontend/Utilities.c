/* Utilities.c generated by valac 0.32.1, the Vala compiler
 * generated from Utilities.vala, do not modify */

/*
# Sassy Backup
#
# Copyright (c) 2010 by Sassy Developers
#
# License:
# This file is part of sassy.
#
# Sassy is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# Sassy is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with Sassy.  If not, see <http://www.gnu.org/licenses/>.
*/

#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <cairo.h>
#include <float.h>
#include <math.h>
#include <gdk/gdk.h>
#include <stdlib.h>
#include <string.h>
#include <gdk-pixbuf/gdk-pixbuf.h>


#define SLINGSHOT_FRONTEND_TYPE_UTILITIES (slingshot_frontend_utilities_get_type ())
#define SLINGSHOT_FRONTEND_UTILITIES(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SLINGSHOT_FRONTEND_TYPE_UTILITIES, SlingshotFrontendUtilities))
#define SLINGSHOT_FRONTEND_UTILITIES_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SLINGSHOT_FRONTEND_TYPE_UTILITIES, SlingshotFrontendUtilitiesClass))
#define SLINGSHOT_FRONTEND_IS_UTILITIES(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SLINGSHOT_FRONTEND_TYPE_UTILITIES))
#define SLINGSHOT_FRONTEND_IS_UTILITIES_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SLINGSHOT_FRONTEND_TYPE_UTILITIES))
#define SLINGSHOT_FRONTEND_UTILITIES_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SLINGSHOT_FRONTEND_TYPE_UTILITIES, SlingshotFrontendUtilitiesClass))

typedef struct _SlingshotFrontendUtilities SlingshotFrontendUtilities;
typedef struct _SlingshotFrontendUtilitiesClass SlingshotFrontendUtilitiesClass;
typedef struct _SlingshotFrontendUtilitiesPrivate SlingshotFrontendUtilitiesPrivate;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))

#define SLINGSHOT_FRONTEND_TYPE_COLOR (slingshot_frontend_color_get_type ())
typedef struct _SlingshotFrontendColor SlingshotFrontendColor;

struct _SlingshotFrontendUtilities {
	GObject parent_instance;
	SlingshotFrontendUtilitiesPrivate * priv;
};

struct _SlingshotFrontendUtilitiesClass {
	GObjectClass parent_class;
};

struct _SlingshotFrontendColor {
	gdouble R;
	gdouble G;
	gdouble B;
	gdouble A;
};


static gpointer slingshot_frontend_utilities_parent_class = NULL;

GType slingshot_frontend_utilities_get_type (void) G_GNUC_CONST;
enum  {
	SLINGSHOT_FRONTEND_UTILITIES_DUMMY_PROPERTY
};
GtkAlignment* slingshot_frontend_utilities_wrap_alignment (GtkWidget* widget, gint top, gint right, gint bottom, gint left);
void slingshot_frontend_utilities_draw_rounded_rectangle (cairo_t* context, gdouble radius, gdouble offset, GtkAllocation* size);
void slingshot_frontend_utilities_truncate_text (cairo_t* context, GtkAllocation* size, guint padding, const gchar* input, gchar** truncated, cairo_text_extents_t* truncated_extents);
GType slingshot_frontend_color_get_type (void) G_GNUC_CONST;
SlingshotFrontendColor* slingshot_frontend_color_dup (const SlingshotFrontendColor* self);
void slingshot_frontend_color_free (SlingshotFrontendColor* self);
void slingshot_frontend_utilities_average_color (GdkPixbuf* source, SlingshotFrontendColor* result);
void slingshot_frontend_color_init (SlingshotFrontendColor *self, gdouble R, gdouble G, gdouble B, gdouble A);
void slingshot_frontend_color_set_val (SlingshotFrontendColor *self, gdouble val, SlingshotFrontendColor* result);
void slingshot_frontend_color_multiply_sat (SlingshotFrontendColor *self, gdouble amount, SlingshotFrontendColor* result);
SlingshotFrontendUtilities* slingshot_frontend_utilities_new (void);
SlingshotFrontendUtilities* slingshot_frontend_utilities_construct (GType object_type);


GtkAlignment* slingshot_frontend_utilities_wrap_alignment (GtkWidget* widget, gint top, gint right, gint bottom, gint left) {
	GtkAlignment* result = NULL;
	GtkAlignment* alignment = NULL;
	GtkAlignment* _tmp0_ = NULL;
	gint _tmp1_ = 0;
	gint _tmp2_ = 0;
	gint _tmp3_ = 0;
	gint _tmp4_ = 0;
	GtkWidget* _tmp5_ = NULL;
	g_return_val_if_fail (widget != NULL, NULL);
	_tmp0_ = (GtkAlignment*) gtk_alignment_new (0.0f, 0.0f, 1.0f, 1.0f);
	g_object_ref_sink (_tmp0_);
	alignment = _tmp0_;
	_tmp1_ = top;
	g_object_set (alignment, "top-padding", (guint) _tmp1_, NULL);
	_tmp2_ = right;
	g_object_set (alignment, "right-padding", (guint) _tmp2_, NULL);
	_tmp3_ = bottom;
	g_object_set (alignment, "bottom-padding", (guint) _tmp3_, NULL);
	_tmp4_ = left;
	g_object_set (alignment, "left-padding", (guint) _tmp4_, NULL);
	_tmp5_ = widget;
	gtk_container_add ((GtkContainer*) alignment, _tmp5_);
	result = alignment;
	return result;
}


void slingshot_frontend_utilities_draw_rounded_rectangle (cairo_t* context, gdouble radius, gdouble offset, GtkAllocation* size) {
	cairo_t* _tmp0_ = NULL;
	GtkAllocation _tmp1_ = {0};
	gint _tmp2_ = 0;
	gdouble _tmp3_ = 0.0;
	GtkAllocation _tmp4_ = {0};
	gint _tmp5_ = 0;
	gdouble _tmp6_ = 0.0;
	cairo_t* _tmp7_ = NULL;
	GtkAllocation _tmp8_ = {0};
	gint _tmp9_ = 0;
	GtkAllocation _tmp10_ = {0};
	gint _tmp11_ = 0;
	gdouble _tmp12_ = 0.0;
	gdouble _tmp13_ = 0.0;
	GtkAllocation _tmp14_ = {0};
	gint _tmp15_ = 0;
	gdouble _tmp16_ = 0.0;
	gdouble _tmp17_ = 0.0;
	gdouble _tmp18_ = 0.0;
	cairo_t* _tmp19_ = NULL;
	GtkAllocation _tmp20_ = {0};
	gint _tmp21_ = 0;
	GtkAllocation _tmp22_ = {0};
	gint _tmp23_ = 0;
	gdouble _tmp24_ = 0.0;
	gdouble _tmp25_ = 0.0;
	GtkAllocation _tmp26_ = {0};
	gint _tmp27_ = 0;
	GtkAllocation _tmp28_ = {0};
	gint _tmp29_ = 0;
	gdouble _tmp30_ = 0.0;
	gdouble _tmp31_ = 0.0;
	gdouble _tmp32_ = 0.0;
	cairo_t* _tmp33_ = NULL;
	GtkAllocation _tmp34_ = {0};
	gint _tmp35_ = 0;
	gdouble _tmp36_ = 0.0;
	gdouble _tmp37_ = 0.0;
	GtkAllocation _tmp38_ = {0};
	gint _tmp39_ = 0;
	GtkAllocation _tmp40_ = {0};
	gint _tmp41_ = 0;
	gdouble _tmp42_ = 0.0;
	gdouble _tmp43_ = 0.0;
	gdouble _tmp44_ = 0.0;
	cairo_t* _tmp45_ = NULL;
	GtkAllocation _tmp46_ = {0};
	gint _tmp47_ = 0;
	gdouble _tmp48_ = 0.0;
	gdouble _tmp49_ = 0.0;
	GtkAllocation _tmp50_ = {0};
	gint _tmp51_ = 0;
	gdouble _tmp52_ = 0.0;
	gdouble _tmp53_ = 0.0;
	gdouble _tmp54_ = 0.0;
	g_return_if_fail (context != NULL);
	g_return_if_fail (size != NULL);
	_tmp0_ = context;
	_tmp1_ = *size;
	_tmp2_ = _tmp1_.x;
	_tmp3_ = radius;
	_tmp4_ = *size;
	_tmp5_ = _tmp4_.y;
	_tmp6_ = offset;
	cairo_move_to (_tmp0_, _tmp2_ + _tmp3_, _tmp5_ + _tmp6_);
	_tmp7_ = context;
	_tmp8_ = *size;
	_tmp9_ = _tmp8_.x;
	_tmp10_ = *size;
	_tmp11_ = _tmp10_.width;
	_tmp12_ = radius;
	_tmp13_ = offset;
	_tmp14_ = *size;
	_tmp15_ = _tmp14_.y;
	_tmp16_ = radius;
	_tmp17_ = offset;
	_tmp18_ = radius;
	cairo_arc (_tmp7_, ((_tmp9_ + _tmp11_) - _tmp12_) - _tmp13_, (_tmp15_ + _tmp16_) + _tmp17_, _tmp18_, G_PI * 1.5, G_PI * 2);
	_tmp19_ = context;
	_tmp20_ = *size;
	_tmp21_ = _tmp20_.x;
	_tmp22_ = *size;
	_tmp23_ = _tmp22_.width;
	_tmp24_ = radius;
	_tmp25_ = offset;
	_tmp26_ = *size;
	_tmp27_ = _tmp26_.y;
	_tmp28_ = *size;
	_tmp29_ = _tmp28_.height;
	_tmp30_ = radius;
	_tmp31_ = offset;
	_tmp32_ = radius;
	cairo_arc (_tmp19_, ((_tmp21_ + _tmp23_) - _tmp24_) - _tmp25_, ((_tmp27_ + _tmp29_) - _tmp30_) - _tmp31_, _tmp32_, (gdouble) 0, G_PI * 0.5);
	_tmp33_ = context;
	_tmp34_ = *size;
	_tmp35_ = _tmp34_.x;
	_tmp36_ = radius;
	_tmp37_ = offset;
	_tmp38_ = *size;
	_tmp39_ = _tmp38_.y;
	_tmp40_ = *size;
	_tmp41_ = _tmp40_.height;
	_tmp42_ = radius;
	_tmp43_ = offset;
	_tmp44_ = radius;
	cairo_arc (_tmp33_, (_tmp35_ + _tmp36_) + _tmp37_, ((_tmp39_ + _tmp41_) - _tmp42_) - _tmp43_, _tmp44_, G_PI * 0.5, G_PI);
	_tmp45_ = context;
	_tmp46_ = *size;
	_tmp47_ = _tmp46_.x;
	_tmp48_ = radius;
	_tmp49_ = offset;
	_tmp50_ = *size;
	_tmp51_ = _tmp50_.y;
	_tmp52_ = radius;
	_tmp53_ = offset;
	_tmp54_ = radius;
	cairo_arc (_tmp45_, (_tmp47_ + _tmp48_) + _tmp49_, (_tmp51_ + _tmp52_) + _tmp53_, _tmp54_, G_PI, G_PI * 1.5);
}


static gchar* string_slice (const gchar* self, glong start, glong end) {
	gchar* result = NULL;
	glong string_length = 0L;
	gint _tmp0_ = 0;
	gint _tmp1_ = 0;
	glong _tmp2_ = 0L;
	glong _tmp5_ = 0L;
	gboolean _tmp8_ = FALSE;
	glong _tmp9_ = 0L;
	gboolean _tmp12_ = FALSE;
	glong _tmp13_ = 0L;
	glong _tmp16_ = 0L;
	glong _tmp17_ = 0L;
	glong _tmp18_ = 0L;
	glong _tmp19_ = 0L;
	glong _tmp20_ = 0L;
	gchar* _tmp21_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = strlen (self);
	_tmp1_ = _tmp0_;
	string_length = (glong) _tmp1_;
	_tmp2_ = start;
	if (_tmp2_ < ((glong) 0)) {
		glong _tmp3_ = 0L;
		glong _tmp4_ = 0L;
		_tmp3_ = string_length;
		_tmp4_ = start;
		start = _tmp3_ + _tmp4_;
	}
	_tmp5_ = end;
	if (_tmp5_ < ((glong) 0)) {
		glong _tmp6_ = 0L;
		glong _tmp7_ = 0L;
		_tmp6_ = string_length;
		_tmp7_ = end;
		end = _tmp6_ + _tmp7_;
	}
	_tmp9_ = start;
	if (_tmp9_ >= ((glong) 0)) {
		glong _tmp10_ = 0L;
		glong _tmp11_ = 0L;
		_tmp10_ = start;
		_tmp11_ = string_length;
		_tmp8_ = _tmp10_ <= _tmp11_;
	} else {
		_tmp8_ = FALSE;
	}
	g_return_val_if_fail (_tmp8_, NULL);
	_tmp13_ = end;
	if (_tmp13_ >= ((glong) 0)) {
		glong _tmp14_ = 0L;
		glong _tmp15_ = 0L;
		_tmp14_ = end;
		_tmp15_ = string_length;
		_tmp12_ = _tmp14_ <= _tmp15_;
	} else {
		_tmp12_ = FALSE;
	}
	g_return_val_if_fail (_tmp12_, NULL);
	_tmp16_ = start;
	_tmp17_ = end;
	g_return_val_if_fail (_tmp16_ <= _tmp17_, NULL);
	_tmp18_ = start;
	_tmp19_ = end;
	_tmp20_ = start;
	_tmp21_ = g_strndup (((gchar*) self) + _tmp18_, (gsize) (_tmp19_ - _tmp20_));
	result = _tmp21_;
	return result;
}


void slingshot_frontend_utilities_truncate_text (cairo_t* context, GtkAllocation* size, guint padding, const gchar* input, gchar** truncated, cairo_text_extents_t* truncated_extents) {
	gchar* _vala_truncated = NULL;
	cairo_text_extents_t _vala_truncated_extents = {0};
	cairo_text_extents_t extents = {0};
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	cairo_t* _tmp2_ = NULL;
	const gchar* _tmp3_ = NULL;
	cairo_text_extents_t _tmp4_ = {0};
	cairo_text_extents_t _tmp5_ = {0};
	gdouble _tmp6_ = 0.0;
	GtkAllocation _tmp7_ = {0};
	gint _tmp8_ = 0;
	guint _tmp9_ = 0U;
	cairo_t* _tmp30_ = NULL;
	const gchar* _tmp31_ = NULL;
	cairo_text_extents_t _tmp32_ = {0};
	g_return_if_fail (context != NULL);
	g_return_if_fail (size != NULL);
	g_return_if_fail (input != NULL);
	_tmp0_ = input;
	_tmp1_ = g_strdup (_tmp0_);
	_g_free0 (_vala_truncated);
	_vala_truncated = _tmp1_;
	_tmp2_ = context;
	_tmp3_ = input;
	cairo_text_extents (_tmp2_, _tmp3_, &_tmp4_);
	extents = _tmp4_;
	_tmp5_ = extents;
	_tmp6_ = _tmp5_.width;
	_tmp7_ = *size;
	_tmp8_ = _tmp7_.width;
	_tmp9_ = padding;
	if (_tmp6_ > ((gdouble) (_tmp8_ - _tmp9_))) {
		const gchar* _tmp23_ = NULL;
		const gchar* _tmp24_ = NULL;
		gint _tmp25_ = 0;
		gint _tmp26_ = 0;
		gchar* _tmp27_ = NULL;
		const gchar* _tmp28_ = NULL;
		gchar* _tmp29_ = NULL;
		while (TRUE) {
			cairo_text_extents_t _tmp10_ = {0};
			gdouble _tmp11_ = 0.0;
			GtkAllocation _tmp12_ = {0};
			gint _tmp13_ = 0;
			guint _tmp14_ = 0U;
			const gchar* _tmp15_ = NULL;
			const gchar* _tmp16_ = NULL;
			gint _tmp17_ = 0;
			gint _tmp18_ = 0;
			gchar* _tmp19_ = NULL;
			cairo_t* _tmp20_ = NULL;
			const gchar* _tmp21_ = NULL;
			cairo_text_extents_t _tmp22_ = {0};
			_tmp10_ = extents;
			_tmp11_ = _tmp10_.width;
			_tmp12_ = *size;
			_tmp13_ = _tmp12_.width;
			_tmp14_ = padding;
			if (!(_tmp11_ > ((gdouble) (_tmp13_ - _tmp14_)))) {
				break;
			}
			_tmp15_ = _vala_truncated;
			_tmp16_ = _vala_truncated;
			_tmp17_ = strlen (_tmp16_);
			_tmp18_ = _tmp17_;
			_tmp19_ = string_slice (_tmp15_, (glong) 0, (glong) (((gint) _tmp18_) - 1));
			_g_free0 (_vala_truncated);
			_vala_truncated = _tmp19_;
			_tmp20_ = context;
			_tmp21_ = _vala_truncated;
			cairo_text_extents (_tmp20_, _tmp21_, &_tmp22_);
			extents = _tmp22_;
		}
		_tmp23_ = _vala_truncated;
		_tmp24_ = _vala_truncated;
		_tmp25_ = strlen (_tmp24_);
		_tmp26_ = _tmp25_;
		_tmp27_ = string_slice (_tmp23_, (glong) 0, (glong) (((gint) _tmp26_) - 3));
		_g_free0 (_vala_truncated);
		_vala_truncated = _tmp27_;
		_tmp28_ = _vala_truncated;
		_tmp29_ = g_strconcat (_tmp28_, "...", NULL);
		_g_free0 (_vala_truncated);
		_vala_truncated = _tmp29_;
	}
	_tmp30_ = context;
	_tmp31_ = _vala_truncated;
	cairo_text_extents (_tmp30_, _tmp31_, &_tmp32_);
	_vala_truncated_extents = _tmp32_;
	if (truncated) {
		*truncated = _vala_truncated;
	} else {
		_g_free0 (_vala_truncated);
	}
	if (truncated_extents) {
		*truncated_extents = _vala_truncated_extents;
	}
}


void slingshot_frontend_utilities_average_color (GdkPixbuf* source, SlingshotFrontendColor* result) {
	gdouble rTotal = 0.0;
	gdouble gTotal = 0.0;
	gdouble bTotal = 0.0;
	guchar* dataPtr = NULL;
	GdkPixbuf* _tmp0_ = NULL;
	guint8* _tmp1_ = NULL;
	gdouble pixels = 0.0;
	GdkPixbuf* _tmp2_ = NULL;
	gint _tmp3_ = 0;
	gint _tmp4_ = 0;
	GdkPixbuf* _tmp5_ = NULL;
	gint _tmp6_ = 0;
	gint _tmp7_ = 0;
	GdkPixbuf* _tmp8_ = NULL;
	gint _tmp9_ = 0;
	gint _tmp10_ = 0;
	gdouble _tmp51_ = 0.0;
	gdouble _tmp52_ = 0.0;
	gdouble _tmp53_ = 0.0;
	gdouble _tmp54_ = 0.0;
	gdouble _tmp55_ = 0.0;
	gdouble _tmp56_ = 0.0;
	SlingshotFrontendColor _tmp57_ = {0};
	SlingshotFrontendColor _tmp58_ = {0};
	SlingshotFrontendColor _tmp59_ = {0};
	g_return_if_fail (source != NULL);
	rTotal = (gdouble) 0;
	gTotal = (gdouble) 0;
	bTotal = (gdouble) 0;
	_tmp0_ = source;
	_tmp1_ = gdk_pixbuf_get_pixels (_tmp0_);
	dataPtr = _tmp1_;
	_tmp2_ = source;
	_tmp3_ = gdk_pixbuf_get_height (_tmp2_);
	_tmp4_ = _tmp3_;
	_tmp5_ = source;
	_tmp6_ = gdk_pixbuf_get_rowstride (_tmp5_);
	_tmp7_ = _tmp6_;
	_tmp8_ = source;
	_tmp9_ = gdk_pixbuf_get_n_channels (_tmp8_);
	_tmp10_ = _tmp9_;
	pixels = (gdouble) ((_tmp4_ * _tmp7_) / _tmp10_);
	{
		gint i = 0;
		i = 0;
		{
			gboolean _tmp11_ = FALSE;
			_tmp11_ = TRUE;
			while (TRUE) {
				gint _tmp13_ = 0;
				gdouble _tmp14_ = 0.0;
				guchar r = '\0';
				guchar* _tmp15_ = NULL;
				guchar _tmp16_ = '\0';
				guchar g = '\0';
				guchar* _tmp17_ = NULL;
				guchar _tmp18_ = '\0';
				guchar b = '\0';
				guchar* _tmp19_ = NULL;
				guchar _tmp20_ = '\0';
				guchar max = '\0';
				guchar _tmp21_ = '\0';
				guchar _tmp22_ = '\0';
				guchar _tmp23_ = '\0';
				gdouble _tmp24_ = 0.0;
				gdouble _tmp25_ = 0.0;
				guchar min = '\0';
				guchar _tmp26_ = '\0';
				guchar _tmp27_ = '\0';
				guchar _tmp28_ = '\0';
				gdouble _tmp29_ = 0.0;
				gdouble _tmp30_ = 0.0;
				gdouble delta = 0.0;
				guchar _tmp31_ = '\0';
				guchar _tmp32_ = '\0';
				gdouble _tmp33_ = 0.0;
				gdouble _tmp34_ = 0.0;
				gdouble sat = 0.0;
				gdouble score = 0.0;
				gdouble _tmp37_ = 0.0;
				gdouble _tmp38_ = 0.0;
				guchar _tmp39_ = '\0';
				gdouble _tmp40_ = 0.0;
				gdouble _tmp41_ = 0.0;
				guchar _tmp42_ = '\0';
				gdouble _tmp43_ = 0.0;
				gdouble _tmp44_ = 0.0;
				guchar _tmp45_ = '\0';
				gdouble _tmp46_ = 0.0;
				guchar* _tmp47_ = NULL;
				GdkPixbuf* _tmp48_ = NULL;
				gint _tmp49_ = 0;
				gint _tmp50_ = 0;
				if (!_tmp11_) {
					gint _tmp12_ = 0;
					_tmp12_ = i;
					i = _tmp12_ + 1;
				}
				_tmp11_ = FALSE;
				_tmp13_ = i;
				_tmp14_ = pixels;
				if (!(((gdouble) _tmp13_) < _tmp14_)) {
					break;
				}
				_tmp15_ = dataPtr;
				_tmp16_ = _tmp15_[0];
				r = _tmp16_;
				_tmp17_ = dataPtr;
				_tmp18_ = _tmp17_[1];
				g = _tmp18_;
				_tmp19_ = dataPtr;
				_tmp20_ = _tmp19_[2];
				b = _tmp20_;
				_tmp21_ = r;
				_tmp22_ = g;
				_tmp23_ = b;
				_tmp24_ = fmax ((gdouble) _tmp22_, (gdouble) _tmp23_);
				_tmp25_ = fmax ((gdouble) _tmp21_, _tmp24_);
				max = (guchar) _tmp25_;
				_tmp26_ = r;
				_tmp27_ = g;
				_tmp28_ = b;
				_tmp29_ = fmin ((gdouble) _tmp27_, (gdouble) _tmp28_);
				_tmp30_ = fmin ((gdouble) _tmp26_, _tmp29_);
				min = (guchar) _tmp30_;
				_tmp31_ = max;
				_tmp32_ = min;
				delta = (gdouble) (_tmp31_ - _tmp32_);
				_tmp34_ = delta;
				if (_tmp34_ == ((gdouble) 0)) {
					_tmp33_ = (gdouble) 0;
				} else {
					gdouble _tmp35_ = 0.0;
					guchar _tmp36_ = '\0';
					_tmp35_ = delta;
					_tmp36_ = max;
					_tmp33_ = _tmp35_ / _tmp36_;
				}
				sat = _tmp33_;
				_tmp37_ = sat;
				score = 0.2 + (0.8 * _tmp37_);
				_tmp38_ = rTotal;
				_tmp39_ = r;
				_tmp40_ = score;
				rTotal = _tmp38_ + (_tmp39_ * _tmp40_);
				_tmp41_ = gTotal;
				_tmp42_ = g;
				_tmp43_ = score;
				gTotal = _tmp41_ + (_tmp42_ * _tmp43_);
				_tmp44_ = bTotal;
				_tmp45_ = b;
				_tmp46_ = score;
				bTotal = _tmp44_ + (_tmp45_ * _tmp46_);
				_tmp47_ = dataPtr;
				_tmp48_ = source;
				_tmp49_ = gdk_pixbuf_get_n_channels (_tmp48_);
				_tmp50_ = _tmp49_;
				dataPtr = _tmp47_ + _tmp50_;
			}
		}
	}
	_tmp51_ = rTotal;
	_tmp52_ = pixels;
	_tmp53_ = gTotal;
	_tmp54_ = pixels;
	_tmp55_ = bTotal;
	_tmp56_ = pixels;
	slingshot_frontend_color_init (&_tmp57_, (_tmp51_ / G_MAXUINT8) / _tmp52_, (_tmp53_ / G_MAXUINT8) / _tmp54_, (_tmp55_ / G_MAXUINT8) / _tmp56_, (gdouble) 1);
	slingshot_frontend_color_set_val (&_tmp57_, 0.8, &_tmp58_);
	slingshot_frontend_color_multiply_sat (&_tmp58_, 1.15, &_tmp59_);
	*result = _tmp59_;
	return;
}


SlingshotFrontendUtilities* slingshot_frontend_utilities_construct (GType object_type) {
	SlingshotFrontendUtilities * self = NULL;
	self = (SlingshotFrontendUtilities*) g_object_new (object_type, NULL);
	return self;
}


SlingshotFrontendUtilities* slingshot_frontend_utilities_new (void) {
	return slingshot_frontend_utilities_construct (SLINGSHOT_FRONTEND_TYPE_UTILITIES);
}


static void slingshot_frontend_utilities_class_init (SlingshotFrontendUtilitiesClass * klass) {
	slingshot_frontend_utilities_parent_class = g_type_class_peek_parent (klass);
}


static void slingshot_frontend_utilities_instance_init (SlingshotFrontendUtilities * self) {
}


GType slingshot_frontend_utilities_get_type (void) {
	static volatile gsize slingshot_frontend_utilities_type_id__volatile = 0;
	if (g_once_init_enter (&slingshot_frontend_utilities_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (SlingshotFrontendUtilitiesClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) slingshot_frontend_utilities_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (SlingshotFrontendUtilities), 0, (GInstanceInitFunc) slingshot_frontend_utilities_instance_init, NULL };
		GType slingshot_frontend_utilities_type_id;
		slingshot_frontend_utilities_type_id = g_type_register_static (G_TYPE_OBJECT, "SlingshotFrontendUtilities", &g_define_type_info, 0);
		g_once_init_leave (&slingshot_frontend_utilities_type_id__volatile, slingshot_frontend_utilities_type_id);
	}
	return slingshot_frontend_utilities_type_id__volatile;
}



